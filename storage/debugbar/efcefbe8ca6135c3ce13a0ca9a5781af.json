{"__meta":{"id":"efcefbe8ca6135c3ce13a0ca9a5781af","datetime":"2018-08-31 12:11:05","utime":1535688665.7362880706787109375,"method":"POST","uri":"\/api\/services\/6\/invoice","ip":"127.0.0.1"},"php":{"version":"7.2.8","interface":"cli-server"},"messages":{"count":1,"messages":[{"message":"[12:11:05] LOG.error: Symfony\\Component\\Debug\\Exception\\FatalThrowableError: Using $this when not in object context in \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/app\/Services\/Pay2GoInvoice.php:81\nStack trace:\n#0 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/app\/Http\/Controllers\/APIs\/ServiceController.php(105): App\\Services\\Pay2GoInvoice::sendInvoiceRequest()\n#1 [internal function]: App\\Http\\Controllers\\APIs\\ServiceController->updateOrCreateInvoice(Object(Illuminate\\Http\\Request), '6')\n#2 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Controller.php(55): call_user_func_array(Array, Array)\n#3 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/ControllerDispatcher.php(44): Illuminate\\Routing\\Controller->callAction('updateOrCreateI...', Array)\n#4 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Route.php(203): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(App\\Http\\Controllers\\APIs\\ServiceController), 'updateOrCreateI...')\n#5 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Route.php(160): Illuminate\\Routing\\Route->runController()\n#6 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php(572): Illuminate\\Routing\\Route->run()\n#7 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(30): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#8 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Middleware\/SubstituteBindings.php(41): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#9 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(148): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#10 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#11 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Middleware\/ThrottleRequests.php(49): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#12 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(148): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle(Object(Illuminate\\Http\\Request), Object(Closure), '60', '1')\n#13 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#14 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#15 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php(574): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n#16 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php(533): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n#17 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php(511): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n#18 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n#19 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request))\n#20 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/barryvdh\/laravel-debugbar\/src\/Middleware\/Debugbar.php(51): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#21 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(148): Barryvdh\\Debugbar\\Middleware\\Debugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#22 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#23 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Middleware\/TransformsRequest.php(30): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#24 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#25 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#26 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Middleware\/TransformsRequest.php(30): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#27 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#28 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#29 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Middleware\/ValidatePostSize.php(27): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#30 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#31 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#32 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Middleware\/CheckForMaintenanceMode.php(46): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#33 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n#34 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request))\n#35 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request))\n#36 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n#37 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n#38 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/public\/index.php(53): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n#39 \/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/server.php(21): require_once('\/Users\/hihealth...')\n#40 {main}","is_string":false,"label":"error","time":1535688665.26439189910888671875,"collector":"log"}]},"time":{"start":1535688665.200109004974365234375,"end":1535688665.736309051513671875,"duration":0.536200046539306640625,"duration_str":"536.2ms","measures":[{"label":"Booting","start":1535688665.200109004974365234375,"relative_start":0,"end":1535688665.250092029571533203125,"relative_end":1535688665.250092029571533203125,"duration":0.04998302459716796875,"duration_str":"49.98ms","params":[],"collector":null},{"label":"Application","start":1535688665.23521900177001953125,"relative_start":0.035109996795654296875,"end":1535688665.73631191253662109375,"relative_end":2.86102294921875e-6,"duration":0.5010929107666015625,"duration_str":"501.09ms","params":[],"collector":null}]},"memory":{"peak_usage":2097152,"peak_usage_str":"2MB"},"exceptions":{"count":1,"exceptions":[{"type":"Symfony\\Component\\Debug\\Exception\\FatalThrowableError","message":"Using $this when not in object context","code":0,"file":"\/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/app\/Services\/Pay2GoInvoice.php","line":81,"surrounding_lines":["\t\t$key = 'c8PWRNX9plssYPmM9UzarCvKF1mg4n3g'; \/\/\u5546\u5e97\u5c08\u5c6c\u4e32\u63a5\u91d1\u9470 HashKey \u503c\n","\t\t$iv = 'vSdnGaw6wYyvNVhX'; \/\/\u5546\u5e97\u5c08\u5c6c\u4e32\u63a5\u91d1\u9470 HashIV \u503c\n","\t\tif (phpversion() > 7) {\n","\t\t\t$post_data = trim(bin2hex(openssl_encrypt($this->addpadding($post_data_str),\n","\t\t\t'AES-256-CBC', $key, OPENSSL_RAW_DATA | OPENSSL_ZERO_PADDING, $iv)));\n","\t\t\t\/\/php 7 \u4ee5\u4e0a\u7248\u672c\u52a0\u5bc6\n","\t\t} else {\n"]}]},"views":{"nb_templates":0,"templates":[]},"route":{"uri":"POST api\/services\/{service_id}\/invoice","middleware":"api","controller":"App\\Http\\Controllers\\APIs\\ServiceController@updateOrCreateInvoice","namespace":"App\\Http\\Controllers\\APIs","prefix":"api\/services","where":[],"file":"app\/Http\/Controllers\/APIs\/ServiceController.php:80-107"},"queries":{"nb_statements":0,"nb_failed_statements":0,"accumulated_duration":0,"accumulated_duration_str":"0\u03bcs","statements":[]},"swiftmailer_mails":{"count":0,"mails":[]},"session":{"_token":"MkqgOyoswDmUqD3fqlp8WG4Y183AWfPVUgcBgfuC","PHPDEBUGBAR_STACK_DATA":"[]"},"request":{"format":"html","content_type":"text\/html; charset=UTF-8","status_text":"Internal Server Error","status_code":"500","request_query":"[]","request_request":"[]","request_headers":"array:10 [\n  \"host\" => array:1 [\n    0 => \"127.0.0.1:8000\"\n  ]\n  \"connection\" => array:1 [\n    0 => \"keep-alive\"\n  ]\n  \"content-length\" => array:1 [\n    0 => \"0\"\n  ]\n  \"cache-control\" => array:1 [\n    0 => \"no-cache\"\n  ]\n  \"origin\" => array:1 [\n    0 => \"chrome-extension:\/\/fhbjgbiflinjbdggehcddcbncdddomop\"\n  ]\n  \"user-agent\" => array:1 [\n    0 => \"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/68.0.3440.106 Safari\/537.36\"\n  ]\n  \"postman-token\" => array:1 [\n    0 => \"ef6df4fb-3222-01b0-2ffc-3668937e6f2e\"\n  ]\n  \"accept\" => array:1 [\n    0 => \"*\/*\"\n  ]\n  \"accept-encoding\" => array:1 [\n    0 => \"gzip, deflate, br\"\n  ]\n  \"accept-language\" => array:1 [\n    0 => \"zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7,ja;q=0.6,zh-CN;q=0.5\"\n  ]\n]","request_server":"array:26 [\n  \"DOCUMENT_ROOT\" => \"\/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/public\"\n  \"REMOTE_ADDR\" => \"127.0.0.1\"\n  \"REMOTE_PORT\" => \"60220\"\n  \"SERVER_SOFTWARE\" => \"PHP 7.2.8 Development Server\"\n  \"SERVER_PROTOCOL\" => \"HTTP\/1.1\"\n  \"SERVER_NAME\" => \"127.0.0.1\"\n  \"SERVER_PORT\" => \"8000\"\n  \"REQUEST_URI\" => \"\/api\/services\/6\/invoice\"\n  \"REQUEST_METHOD\" => \"POST\"\n  \"SCRIPT_NAME\" => \"\/index.php\"\n  \"SCRIPT_FILENAME\" => \"\/Users\/hihealth\/Documents\/GitHub\/hi-health.com\/public\/index.php\"\n  \"PATH_INFO\" => \"\/api\/services\/6\/invoice\"\n  \"PHP_SELF\" => \"\/index.php\/api\/services\/6\/invoice\"\n  \"HTTP_HOST\" => \"127.0.0.1:8000\"\n  \"HTTP_CONNECTION\" => \"keep-alive\"\n  \"CONTENT_LENGTH\" => \"0\"\n  \"HTTP_CONTENT_LENGTH\" => \"0\"\n  \"HTTP_CACHE_CONTROL\" => \"no-cache\"\n  \"HTTP_ORIGIN\" => \"chrome-extension:\/\/fhbjgbiflinjbdggehcddcbncdddomop\"\n  \"HTTP_USER_AGENT\" => \"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/68.0.3440.106 Safari\/537.36\"\n  \"HTTP_POSTMAN_TOKEN\" => \"ef6df4fb-3222-01b0-2ffc-3668937e6f2e\"\n  \"HTTP_ACCEPT\" => \"*\/*\"\n  \"HTTP_ACCEPT_ENCODING\" => \"gzip, deflate, br\"\n  \"HTTP_ACCEPT_LANGUAGE\" => \"zh-TW,zh;q=0.9,en-US;q=0.8,en;q=0.7,ja;q=0.6,zh-CN;q=0.5\"\n  \"REQUEST_TIME_FLOAT\" => 1535688665.2001\n  \"REQUEST_TIME\" => 1535688665\n]","request_cookies":"[]","response_headers":"array:5 [\n  \"cache-control\" => array:1 [\n    0 => \"no-cache, private\"\n  ]\n  \"date\" => array:1 [\n    0 => \"Fri, 31 Aug 2018 04:11:05 GMT\"\n  ]\n  \"x-ratelimit-limit\" => array:1 [\n    0 => \"60\"\n  ]\n  \"x-ratelimit-remaining\" => array:1 [\n    0 => 59\n  ]\n  \"content-type\" => array:1 [\n    0 => \"text\/html; charset=UTF-8\"\n  ]\n]","path_info":"\/api\/services\/6\/invoice","session_attributes":"array:2 [\n  \"_token\" => \"MkqgOyoswDmUqD3fqlp8WG4Y183AWfPVUgcBgfuC\"\n  \"PHPDEBUGBAR_STACK_DATA\" => []\n]"}}